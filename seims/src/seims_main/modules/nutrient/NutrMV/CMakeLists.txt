MESSAGE(STATUS "        Compiling nutrient_subdir: NUTRMV...")
SET(MODNAME NUTRMV)
PROJECT(SEIMS_MODULE_${MODNAME})
FILE(GLOB SRC_LIST *.cpp *.h)
ADD_LIBRARY(${MODNAME} SHARED ${SRC_LIST})
SET(LIBRARY_OUTPUT_PATH ${SEIMS_BINARY_OUTPUT_PATH})
TARGET_LINK_LIBRARIES(${MODNAME} module_setting common_algorithm)
### For Xcode generator, specific LLVM-Clang installed by brew, and add link library of OpenMP explicitly.
IF(XCODE AND LLVM_FOUND)
    TARGET_LINK_LIBRARIES(${MODNAME} ${OpenMP_LIBRARY})
    SET_TARGET_PROPERTIES(${MODNAME} PROPERTIES XCODE_ATTRIBUTE_CC ${LLVM_ROOT_DIR}/bin/clang)
    SET_TARGET_PROPERTIES(${MODNAME} PROPERTIES XCODE_ATTRIBUTE_CXX ${LLVM_ROOT_DIR}/bin/clang++)
    SET_TARGET_PROPERTIES(${MODNAME} PROPERTIES XCODE_ATTRIBUTE_COMPILER_INDEX_STORE_ENABLE "No")
ENDIF()
INSTALL(TARGETS ${MODNAME} DESTINATION ${INSTALL_DIR})
IF (MSVC OR XCODE)
    SET_PROPERTY(TARGET ${MODNAME} PROPERTY FOLDER "modules/nutrient")
ENDIF ()
